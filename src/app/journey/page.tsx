"use client";

import Navigation from '@/components/Navigation';
import { useState } from 'react';

interface TimelineEvent {
  id: string;
  year: string;
  title: string;
  subtitle: string;
  description: string;
  details?: string[];
  achievements?: string[];
  kilometers?: string;
  nights?: string;
  featured?: boolean;
}

const firstTourEvents: TimelineEvent[] = [
  {
    id: "first-test",
    year: "2022",
    title: "Die ersten Testfahrten",
    subtitle: "Das Spacebike im echten Einsatz",
    description: "Nach der Fertigstellung des Spacebikes beginnen die ersten echten Testfahrten. Jede Tour bringt neue Erkenntnisse und Verbesserungen.",
    details: [
      "Erste √úbernachtung mit dem kompletten System",
      "Test aller Module unter realen Bedingungen",
      "Feintuning der Auf- und Abbau-Prozesse",
      "Gewichtsverteilung und Fahrstabilit√§t optimiert"
    ],
    achievements: [
      "System erfolgreich getestet",
      "Erste Camping-Nacht",
      "Alle Module funktional",
      "Praxistauglich best√§tigt"
    ],
    kilometers: "150",
    nights: "3",
    featured: true
  },
  {
    id: "local-tours",
    year: "2022",
    title: "Lokale Touren",
    subtitle: "Die Umgebung erkunden",
    description: "Regelm√§√üige Wochenendtouren in der Umgebung helfen dabei, das System zu perfektionieren und Vertrauen ins Equipment zu gewinnen.",
    details: [
      "Wochenendtouren in Bayern und √ñsterreich",
      "Verschiedene Wetterbedingungen getestet",
      "Setup-Zeit kontinuierlich verbessert",
      "Erste begeisterte Reaktionen von anderen Radfahrern"
    ],
    achievements: [
      "Routine entwickelt",
      "Wetterresistenz bewiesen",
      "Community-Aufmerksamkeit",
      "Selbstvertrauen gest√§rkt"
    ],
    kilometers: "500",
    nights: "15"
  }
];

const adventureEvents: TimelineEvent[] = [
  {
    id: "extended-tours",
    year: "2023",
    title: "Erste gr√∂√üere Abenteuer",
    subtitle: "Das Spacebike zeigt seine St√§rken",
    description: "Mit wachsendem Vertrauen ins System werden die Touren l√§nger und anspruchsvoller. Das Spacebike beweist seine Zuverl√§ssigkeit.",
    details: [
      "Erste einw√∂chige Tour durch die Alpen",
      "Spontane Routen√§nderungen dank Flexibilit√§t",
      "Begegnungen mit anderen Bikepacking-Enthusiasten",
      "Das System funktioniert perfekt in der Praxis"
    ],
    achievements: [
      "L√§ngere Distanzen gemeistert",
      "Flexibilit√§t bewiesen",
      "Community-Kontakte gekn√ºpft",
      "Systemzuverl√§ssigkeit best√§tigt"
    ],
    kilometers: "800",
    nights: "25",
    featured: true
  },
  {
    id: "challenging-conditions",
    year: "2023",
    title: "Herausfordernde Bedingungen",
    subtitle: "Grenzen austesten",
    description: "Extremwetter, schwieriges Gel√§nde und lange Distanzen - das Spacebike wird in allen erdenklichen Situationen getestet.",
    details: [
      "Tour bei Minusgraden und Schnee",
      "Mehrt√§gige Regenperioden √ºberstanden",
      "Steile Berganstiege mit vollem Gep√§ck",
      "System auch unter Stress zuverl√§ssig"
    ],
    achievements: [
      "Winterfestigkeit bewiesen",
      "Wasserdichtigkeit best√§tigt",
      "Bergfestigkeit unter Last",
      "Stressresistenz validiert"
    ],
    kilometers: "600",
    nights: "20"
  }
];

const experienceEvents: TimelineEvent[] = [
  {
    id: "accumulated-experience",
    year: "2024",
    title: "Gefestigte Routine",
    subtitle: "Das System wird zur zweiten Natur",
    description: "Nach zwei Jahren intensiver Nutzung ist das Spacebike-Setup perfektioniert. Jede Tour l√§uft wie am Schn√ºrchen.",
    details: [
      "Aufbauzeiten auf unter 10 Minuten reduziert",
      "Intuitive Nutzung aller Komponenten",
      "Optimale Packlisten f√ºr jede Situation",
      "Das Spacebike wird zum zuverl√§ssigen Partner"
    ],
    achievements: [
      "Perfektion im Handling",
      "Maximale Effizienz",
      "Vollst√§ndige Integration",
      "Partnerschaft Mensch-Maschine"
    ],
    kilometers: "1200",
    nights: "35",
    featured: true
  },
  {
    id: "current-status",
    year: "2025",
    title: "Bereit f√ºr gro√üe Tr√§ume",
    subtitle: "Die gro√üe Reise wartet",
    description: "Mit √ºber 100 N√§chten Erfahrung und tausenden Kilometern ist das System ausgereift. Die Zeit f√ºr gro√üe Abenteuer ist gekommen.",
    details: [
      "√úber 100 √úbernachtungen erfolgreich absolviert",
      "Mehrere tausend Kilometer zur√ºckgelegt",
      "System in allen Situationen bew√§hrt",
      "Bereit f√ºr die gro√üe Weltreise"
    ],
    achievements: [
      "Hunderte N√§chte erlebt",
      "Tausende Kilometer gesammelt",
      "Absolute Zuverl√§ssigkeit",
      "Weltreise-bereit"
    ],
    kilometers: "2500+",
    nights: "100+",
    featured: true
  }
];

export default function Journey() {
  const [activeSection, setActiveSection] = useState<'first-tours' | 'adventures' | 'experiences'>('first-tours');
  const [expandedItems, setExpandedItems] = useState<string[]>([]);

  const toggleExpanded = (id: string) => {
    setExpandedItems(prev =>
      prev.includes(id)
        ? prev.filter(item => item !== id)
        : [...prev, id]
    );
  };

  const isExpanded = (id: string) => expandedItems.includes(id);

  const getCurrentEvents = () => {
    switch (activeSection) {
      case 'first-tours': return firstTourEvents;
      case 'adventures': return adventureEvents;
      case 'experiences': return experienceEvents;
      default: return firstTourEvents;
    }
  };

  return (
    <main className="min-h-screen" style={{background: 'var(--bg-primary)'}}>
      <Navigation currentPage="journey" />

      {/* Hero Section */}
      <div className="journey-hero">
        <div className="container mx-auto px-6 py-24 text-center">
          <h1 className="journey-title">
Bernis <span className="journey-title-highlight">Touring-Erfahrungen</span>
          </h1>
          <p className="journey-subtitle">
            Von den ersten Testfahrten bis zu gro√üen Abenteuern -
            Die echten Erfahrungen mit dem Spacebike seit 2022
          </p>
          <div className="journey-stats">
            <div className="journey-stat">
              <span className="journey-stat-number">1000+</span>
              <span className="journey-stat-label">Kilometer</span>
            </div>
            <div className="journey-stat">
              <span className="journey-stat-number">100+</span>
              <span className="journey-stat-label">N√§chte</span>
            </div>
            <div className="journey-stat">
              <span className="journey-stat-number">3</span>
              <span className="journey-stat-label">Jahre</span>
            </div>
          </div>
        </div>
      </div>

      {/* Navigation Tabs */}
      <div className="journey-nav">
        <div className="container mx-auto px-6">
          <div className="journey-nav-tabs-centered">
            <div className="splash-circle-container">
              <button
                onClick={() => setActiveSection('first-tours')}
                className={`splash-circle splash-variant-1 ${activeSection === 'first-tours' ? 'splash-circle-active' : ''}`}
                style={{
                  width: '140px',
                  height: '140px'
                }}
                aria-label="First Tours section"
              >
                <div className="splash-circle-content">
                  <span className="splash-circle-icon">üö¥</span>
                </div>
                <span className="sr-only">First Tours</span>
              </button>
              <span className="splash-circle-label">First Tours</span>
            </div>
            <div className="splash-circle-container">
              <button
                onClick={() => setActiveSection('adventures')}
                className={`splash-circle splash-variant-2 ${activeSection === 'adventures' ? 'splash-circle-active' : ''}`}
                style={{
                  width: '140px',
                  height: '140px'
                }}
                aria-label="Adventures section"
              >
                <div className="splash-circle-content">
                  <span className="splash-circle-icon">‚õ∞Ô∏è</span>
                </div>
                <span className="sr-only">Adventures</span>
              </button>
              <span className="splash-circle-label">Adventures</span>
            </div>
            <div className="splash-circle-container">
              <button
                onClick={() => setActiveSection('experiences')}
                className={`splash-circle splash-variant-3 ${activeSection === 'experiences' ? 'splash-circle-active' : ''}`}
                style={{
                  width: '140px',
                  height: '140px'
                }}
                aria-label="Experiences section"
              >
                <div className="splash-circle-content">
                  <span className="splash-circle-icon">üåü</span>
                </div>
                <span className="sr-only">Experiences</span>
              </button>
              <span className="splash-circle-label">Experiences</span>
            </div>
          </div>
        </div>
      </div>

      {/* Content Sections */}
      <div className="container mx-auto px-6 pb-20">
        <div className="journey-section">
          <div className="max-w-6xl mx-auto">
            <div className="timeline-container">
              <div className="timeline-line"></div>

              {getCurrentEvents().map((event, index) => (
                <div
                  key={event.id}
                  className={`timeline-item ${event.featured ? 'timeline-featured' : ''}`}
                >
                  <div className="timeline-dot"></div>

                  <div
                    className={`timeline-content ${isExpanded(event.id) ? 'expanded' : ''}`}
                    onClick={() => toggleExpanded(event.id)}
                    style={{ cursor: 'pointer' }}
                  >
                    <div className="timeline-header">
                      <div className="timeline-info">
                        <div className="timeline-date">{event.year}</div>
                        <h3 className="timeline-title">{event.title}</h3>
                        <p className="timeline-subtitle">{event.subtitle}</p>
                        {event.featured && (
                          <span className="timeline-category">Meilenstein</span>
                        )}
                        {(event.kilometers || event.nights) && (
                          <div className="timeline-stats">
                            {event.kilometers && (
                              <span className="timeline-stat">
                                üìè {event.kilometers} km
                              </span>
                            )}
                            {event.nights && (
                              <span className="timeline-stat">
                                üèïÔ∏è {event.nights} N√§chte
                              </span>
                            )}
                          </div>
                        )}
                      </div>
                    </div>

                    <p className="timeline-description">
                      {event.description}
                    </p>

                    {!isExpanded(event.id) && (
                      <button className="timeline-expand-btn">
                        Mehr erfahren ‚Üì
                      </button>
                    )}

                    {isExpanded(event.id) && (
                      <div className="timeline-details">
                        {event.details && (
                          <div>
                            <h4 style={{
                              color: 'var(--text-primary)',
                              fontWeight: '600',
                              marginBottom: '1rem',
                              fontSize: '1.1rem'
                            }}>
                              Details & Entwicklungen:
                            </h4>
                            <div className="timeline-features">
                              {event.details.map((detail, idx) => (
                                <div key={idx} className="timeline-feature">
                                  <span style={{ color: 'var(--brand)' }}>‚Ä¢</span>
                                  <span>{detail}</span>
                                </div>
                              ))}
                            </div>
                          </div>
                        )}

                        {event.achievements && (
                          <div style={{ marginTop: '1.5rem' }}>
                            <h4 style={{
                              color: 'var(--text-primary)',
                              fontWeight: '600',
                              marginBottom: '1rem',
                              fontSize: '1.1rem'
                            }}>
                              Errungenschaften:
                            </h4>
                            <div style={{
                              display: 'flex',
                              flexWrap: 'wrap',
                              gap: '0.5rem'
                            }}>
                              {event.achievements.map((achievement, idx) => (
                                <span
                                  key={idx}
                                  style={{
                                    backgroundColor: 'rgba(100, 181, 246, 0.15)',
                                    color: 'var(--brand)',
                                    padding: '0.5rem 1rem',
                                    borderRadius: '2rem',
                                    fontSize: '0.875rem',
                                    fontWeight: '500'
                                  }}
                                >
                                  {achievement}
                                </span>
                              ))}
                            </div>
                          </div>
                        )}

                        <button
                          className="timeline-expand-btn"
                          style={{ marginTop: '1rem' }}
                        >
                          Weniger anzeigen ‚Üë
                        </button>
                      </div>
                    )}
                  </div>
                </div>
              ))}
            </div>
          </div>
        </div>
      </div>
    </main>
  );
}